%======================================================================================================================
% SLO: definiraj strukturo dokumenta
% ENG: define file structure
%======================================================================================================================
\documentclass[a4paper, 12pt]{book}
\usepackage[T1]{fontenc}

%======================================================================================================================
% SLO: Odkomentiraj "\SLOtrue " za izbiro slovenskega jezika
% ENG: Uncomment "\SLOfalse" to chose English languagge
%======================================================================================================================
\newif\ifSLO
\newif\ifTRACKEXIST
\newif\ifTRACKCS
\newif\ifPROGRAMMM

% ---------------------------------------------------------------------------------------------------------------------
% IMPORTANT: Adjust the thesis language, your study program and course within this block
%  --------------------------------------------------------------------------------------------------------------------
% switch language
\SLOtrue % Enables Slovenian language
%\SLOfalse  % Enables English language

% switch programs: Computer science and Multimedia. Set to false if the program is in Multimedia
\PROGRAMMMfalse
%\PROGRAMMMtrue

% switch on if your program is divided into tracks CS and DS, otherwise leave it false
% CAUTION: if you were first enrolled into your program before school year 2019/2020, your program is not divided
% into tracks. In any case, be absolutely sure you select the correct variant. IF IN DOUBT, always contact the
% student office to advise you.
%
\TRACKEXISTfalse
%\TRACKEXISTtrue

% default course name is "Computer science" if your course name is "Data science", set the following switch to false
\TRACKCStrue % uncomment if the thesis is from course "Information science"
%\TRACKCSfalse % uncomment if the thesis is from course "Data Science"
% ---------------------------------------------------------------------------------------------------------------------
% End of language, program and course adjustment
% ---------------------------------------------------------------------------------------------------------------------


%======================================================================================================================
% SLO: vključi oblikovanje in pakete
% ENG: include design and packages
%======================================================================================================================
\input{style/thesis_style}

%----------------------------------------------------------------------------------------------------------------------
% |||||||||||||||||||||| USTREZNO POPRAVI |||||||||||||||||||||||
% |||||||||||||||||||||| EDIT ACCORDINGLY |||||||||||||||||||||||
%----------------------------------------------------------------------------------------------------------------------
\newcommand{\ttitle}{Neprekinjena integracija in dostava poslovno kritičnih aplikacij}
\newcommand{\ttitleEn}{Continuous integration and delivery for business critical applications}
\newcommand{\tsubject}{\ttitle}
\newcommand{\tsubjectEn}{\ttitleEn}
\newcommand{\tauthor}{Jakob Maležič}
\newcommand{\temail}{jm6421@student.uni-lj.si}
\newcommand{\myyear}{2023}
\newcommand{\tkeywords}{neprekinjena integracija, neprekinjena dostava, poslovno kritične aplikacije}
\newcommand{\tkeywordsEn}{continuous integration, continuous deployment, business critical applications}
\newcommand{\mysupervisor}{doc.~dr.\ Nejc Ilc}
\newcommand{\mycosupervisor}{dr.\ Tadej Justin}

% include formatted front pages
\input{style/thesis_front_pages}

%================================================================
% ENG: main pages of the thesis
%================================================================

%----------------------------------------------------------------
% Poglavje 1 - Uvod in motivacija
%----------------------------------------------------------------


\chapter{Uvod}
\label{ch:uvod}

Pri razvoju večje programske opreme ali aplikacije je programje navadno razdeljeno na več zaključenih enot, ki jih
različne razvojne skupine ali razvojna podjetja neodvisno razvijajo.\ Za slednje je pred delitvijo nalog vnaprej
izbrano in specificirano tudi produkcijsko okolje.\ Na ta način si lahko razvojne skupine, za preverjanje realizacije
izvedenega dela, pripravijo razvojno okolje, ki ima čim bolj podobno infrastrukturo, kot je na voljo v produkcijskem
okolju.\ Samo tako so posamezne skupine lahko dovolj samozavestne, da bo njihovo programje pravilno delovalo tudi v
produkcijskem okolju.

\section{Motivacija}
\label{sec:motivacija}

Poseben primer produkcijskega okolja predstavlja zaprto produkcijsko okolje stranke, ki se velikokrat pojavi pri
poslovno kritičnih aplikacijah. Poslovno kritične aplikacije so tiste aplikacije, ki so ključne za delovanje
poslovnega procesa podjetja~\cite{Hinchey2010, Syng2016}. V takšnem primeru je zaradi varnosti produkcijsko okolje
pogosto razvijalcem nedostopno, kot tudi celotno omrežje stranke. S tem je dostava programske kode v omrežje
stranke s strani razvijalcev nemogoča. Za takšen primer razvijanja programske opreme je potrebno celoten proces
neprekinjene dostave prilagoditi in upoštevati morebitne dodatne zaplete pri izdaji programske opreme v produkcijsko
okolje.

\section{Cilji}
\label{sec:cilji}

V magistrski nalogi bomo predstavili strategije in tehnologije, ki nam omogočajo postavitev takšnega sistema. Slednje
bomo opisali na realnih projektih in pripravili orodja za izvajanje integracijskega ter dostavnega procesa. Bolj
podrobno bomo opisali tudi proces neprekinjene integracije in dostave v okolje, kjer nimamo dostopa do nobenega izmed
programskih okolij in nimamo možnosti odriva programske kode v strankino omrežje.


%----------------------------------------------------------------
% Poglavje 2 - Teorija
%----------------------------------------------------------------


\chapter{Teoretična osnova}
\label{ch:teoretična-osnova}

\section{Poslovno kritične aplikacije}
\label{sec:poslovno-kritične-aplikacije}
Poslovno kritične aplikacije so aplikacije, ki so nujne za delovanje podjetja. Odpoved ali prekinitev delovanja takšni aplikacij močno vpliva na poslovanje podjetja in potencialno povzroči veliko finančno škodo ali škodouje ugledu podjetja \cite{Shen2015}. Kritičnost aplikacije, ki jo neko podjetje uporablja, je odvisno od podjetja in narave dela, ki ga to podjetje opravlja. Primeri poslovno kritičnih aplikacij so \cite{Shen2015}:
\begin{itemize}
    \item Aplikacije za elektronsko poslovanje: Spletne aplikacije, ki omogočajo podjetjem da tržijo svoje izdelke in storitve preko spleta.
    \item Aplikacije za upravljanje s strankami (CRM): Aplikacije, ki pomagajo podjetjem upravljati poslovanje s strankami in hranijo podatke o strankah.
    \item Dobavni sistemi (SCM): Sistemi, ki pomagajo podjetju upravljati z dobavo in prodajo, kot tudi z beleženjem inventarja in logistiko.
    \item Sistem za načrtovanje virov (ERP): Aplikacije, ki jih podjetja uporabljajo za upravljanje dnevnih poslovnih aktivnosti kot so: vodenje računov, dobavljanje, upravljanje projektov,  upravljanje s tveganji in nadzor dobavne verige.
    \item Sistemi poslovne inteligence: To so aplikacije ki pomagajo podjetju zbirati, hraniti in analizirati podatke za sklepanje boljših poslovnih odločitev.
    \item Orodja za komunikacijo: Aplikacije, ki zaposlenim omogočajo komunikacijo kot na primer: elektronska pošta, sporočilni sistemi in aplikacije za video konference.
\end{itemize}


Pri razvoju poslovno kritičnih aplikacij so pomembne naslednje lastnosti \cite{Sarkis2004}:
\begin{itemize}
    \item Zanesljivost: Aplikacija mora biti vedno na voljo in delovati konsistentno brez napak in zaustavitev.
    \item Skalabilnost (razširljivost?): Ob rasti podjetja se količina prometa, ki jih mora aplikacija obdelati lahko poveča. Aplikacija mora zato biti sposobna obvladovati velike količine prometa in podpreti rastoče zahteve podjetja.
    \item Varnost: Poslovno kritične aplikacije pogosto hranijo občutljive podatke, na primer podatke o uporabnikih ali finančne podatke. Aplikacija mora zato biti varna in zaščitena pred kibernetskimi napadi, nepooblaščenim dostopom in drugim tveganji, da prepreči izlive takšnih podatkov.
    \item Zmogljivost: Počasna ali neodzivna aplikacija negativno vpliva na produktivnosti. Aplikacija mora zato biti odzivna in delovati dobro tudi pod velikimi obremenitvami.
    \item Vzdrževanje: Dobro vzdrževanje aplikacije je pomembno, da aplikacija ostane zanesljiva in zmogljiva. Aplikacija mora zato biti lahka za vzdrževanje in posodabljanje kot tudi jasno in dobro dokumentirana.
    \item Uporabniška izkušnja: Dober uporabniški vmesnik in izkušnja lahko uporabnikom olajšata razumevanje in uporabo aplikacije, kar poveča produktivnost.
    % \item Integracija: Aplikacija mora nuditi dober programski vmesnik, da se lahko druge aplikacije nanj integrirajo.
    \item Prilagodljivost: Različna podjetja imajo različne potrebe, zato je pomembno, da je aplikacija prožna in prilagodljiva.
\end{itemize}

% Podjetja pogosto razdelijo svoje aplikacije v skupine, glede na velikost posledic, ki bi jih njihova odpoved prinesla. V večini primerov se delijo na: aplikacije s kritično nalogo, poslovno kritične aplikacije in ne-kritične aplikacije. Ločimo jih po škodi, ki jih povzroči njihov izpad.

% \subsection{Aplikacije s kritično nalogo}
% Odpovedi aplikacije s kritično nalogo, največkrat privede do napake pri doseganju nekega pomembnega cilja. Na primer: reševanje življenj, preprečevanje resnih poškodb, transport nujnih stvari ipd.

% Primerjava poslovno kritičnih z aplikacijami s kritično nalogo.

\section{Neprekinjena integracija}
\label{sec:neprekinjena-integracija}
Neprekinjena integracija je praksa razvoja programske opreme, pri kateri programerji redno združujejo svoje spremembe kode v centralni repozitorij. Ta koda se nato avtomatsko zgradi, preizkusi in objavi \cite{Travassos2016}. Cilj neprekinjene integracije je čim prej avtomatsko odkriti napake, tako da lahko programerji posvečajo več časa pisanju kode kot iskanju napak. Avtomatska gradnja, preizkušanje in objavljanje kode tudi pomaga ekipam, da objavijo posodobitve pogosteje in z večjim zaupanjem, kar je še posebej pomembno v hitro spreminjajočih se okoljih razvoja \cite{Fowler2006}.

Za sistem neprekinjene integracije in dostave so potrebni trije glavni elementi: centralni repozitorij, orodje za avtomatizacijo gradnje in orodje za preizkušanje \cite{Travassos2016}. Centralni repozitorij je mesto, kamor razvijalci oddajo spremembe svoje kode. Orodje za avtomatizacijo gradnje je odgovorno za avtomatsko gradnjo in objavljanje posodobljene kode. Orodje za preizkušanje pa izvaja avtomatsko testiranje na posodobljeni kodi, s čimer zagotovi, da posodobljena koda deluje pravilno in dosega zahtevane standarde kakovosti \cite{Fowler2006}.

% Travassos, G. H., Fernandes, E. B., de O. Costa, R. F., & Maldonado, J. C. (2016). Continuous integration: Best practices, patterns, and anti-patterns. Journal of Systems and Software, 120, 1-16.

% Neprekinjena integracija pri razvoju programske opreme predstavlja večkratno dnevno združevanje delovnih različič programerjev v skupno celoto \cite{Fowler2006}.
% Fowler, Martin (1 May 2006). "Continuous Integration". Retrieved 9 January 2014.

\subsection{Razlogi za neprekinjeno integracijo}
Ko razvijalec želi dodati nekaj novega v programsko kodo aplikacije, si v svojem okolju ustvari kopijo temeljne programske kode, ki je v tistem trenutku aktualna. Medtem ko razvijalec v svojem okolju razvija nove funkcionalnosti ali pripravlja popravke, lahko ostali razvijalci spremenijo temeljno programsko kodo. Zato se lokalna kopija razvijalca čedalje bolj razlikuje od temeljne programske kode. Še več, razvijalci lahko v temeljno programsko kodo dodajo nove funkcionalnosti, nove knjižnice ali druge vire, ki lahko ustvarijo dodatne odvisnosti in potencialne konflikte.

Dalj časa kot razvijalec svoje lokalne kopije ne združi s temeljno programsko kodo, večje je tveganje integracijskih konfliktov in napak pri združevanju kode \cite{Duvall2007}. Preden razvijalec svoje spremembe doda v glavno vejo, mora najprej posodobiti svojo lokalno kopijo, da pridobi vse spremembe, ki so bile v vmesnem času dodane v glavno vejo. Več kot je bilo sprememb dodanih v vmesnem času, več dela ima razvijalec, preden svoje spremembe doda v glavno vejo.

Če razvijalec predolgo odlaša z oddajo kode v glavno vejo, se njegova kopija lahko začne zelo razlikovati od kode v glavni veji in za integracijo svoje kode v glavno vejo porabi več časa, kot ga je za razvoj sprememb. Temu rečemo tudi "integracijski pekel" \cite{Cunningham2009}.

Implementacija neprekinjene integracije lahko prinese številne koristi pri razvoju programske opreme, vključno z izboljšano kakovostjo kode, hitrejšim objavljanjem posodobitev in zmanjšanjem tveganja napak pri integraciji in objavi \cite{Travassos2016}. Vendar pa implementacija neprekinjene integracije predstavlja tudi nekaj izzivov, kot je potreba po namestitvi in vzdrževanju infrastrukture za neprekinjeno integracijo in potreba po zagotavljanju učinkovitega postopka preizkušanja programske kode \cite{Rios in da Costa, 2017}. 

\section{Neprekinjena dostava}
\label{sec:neprekinjena-dostava}

Neprekinjena dostava je metoda razvoja in izdelave, ki temelji na stalnem izboljševanju procesov in izdelkov ter zagotavljanju neprekinjene dostave izdelkov ali storitev. To pomeni, da se procesi in izdelki izboljšujejo in nadgrajujejo neprekinjeno ter dostava izdelkov ali storitev ne povzroči prekinitev ali zastoja v procesu. 

Cilj neprekinjene dostave je zmanjšanje časa med pisanjem kode in njene dostave končnim uporabnikom, obenem pa zagotavljanje visoke kakovosti in zanesljivosti \cite{Humble2010}.

Neprekinjena dostava je zato širši pomen, ki vključuje neprekinjeno integracijo in avtomatično testiranje, obenem pa tudi izdajanje novih verzij in avtomatično objavo aplikacije v testno ali produkcijsko okolje. Pomemben del pa je tudi sistem za spremljanje napak in težav z zmogljivostjo, ki razvojni ekipi pošilja povratne informacije o delovanju aplikacije, ki jim pomaga identificirati in odpraviti napake \cite{Humble2010}.

\subsection{Dostava izvorne kode}
\label{subsec:dostava-izvorne-kode}
Pomemben del neprekinjene dostave je dostava izvorne kode stranki ali končnim uporabnikom. Proces prenosa kode mora biti dobro zasnovan, da zagotovimo, da se izvorna koda pravilno in učinkovito prenese.

Dostava izvorne kode stranki je lahko koristna tako za stranko kot tudi za podjetje, ki je naredilo izvorno kodo. Za stranko je koristno, ker ni več odvisno od podjetja iz vidika posodobitev, vzdrževanja in podpore, vendar za to lahko najame drugo podjetje ali pa ta del sami prevzamejo. To je lahko zelo koristno predvsem takrat, ko podjetje, ki je ustvarilo izvorno kodo, preneha s svojim poslovanjem ali pa ni zmožno zagotoviti podpore zaradi kakšnega drugega razloga. 

% Skupaj lahko dostava izvorne kode stranki zagotovi večjo neodvisnost in prilagodljivost pri uporabi programske opreme, pa tudi priložnost prilagoditve programske opreme lastnim specifičnim potrebam in zahtevam (Humble et al., 2010).

Dostava izvorne kode pa je koristna tudi za podjetje, ki je izvorno kodo naredilo predvsem iz vidika, da podjetje ni več odgovorno za izvorno kodo:
\begin{itemize}
    \item Prenos odgovornosti: z dostavo izvorne kode stranki lahko podjetje prenese del odgovornosti programske opreme na stranko. To je lahko še posebej koristno, če stranka načrtuje prilagoditve ali spremembe programske opreme, saj podjetje ne bi odgovorno za morebitne težave ali napake, ki bi lahko nastali zaradi teh sprememb \cite{Humble2010}.
    \item Zmanjšanje bremena vzdrževanja in podpore: dostava izvorne kode lahko zmanjša breme vzdrževanja in podpore podjetja. Če ima stranka dostop do izvorne kode, lahko sama odpravi težave in jih popravi, namesto da bi se zanašala na podjetje za podporo \cite{Humble2010}.
\end{itemize}

\subsection{Neprekinjena namestitev}
\label{subsec:neprekinjena-namestitev}
Najširši obseg pa predstavlja neprekinjena namestitev, ki je praska razvoja programske opreme, pri kateri se spremembe kode avtomatsko zgradijo, preizkusijo, oddajo naročniku in tudi objavijo v produkcijsko okolje brez potrebe po človeškem posredovanju \cite{Travassos2016}. Predstavlja še en korak naprej od neprekinjene dostave, pri kateri se koda zgradi in preizkusi, vendar jih mora človek ročno objaviti v produkcijo \cite{Bass2015}.

Cilj neprekinjene namestitve je, da se nove funkcionalnosti in popravki čim hitreje dostavijo končnim uporabnikom \cite{Bass2015}. Da bi to dosegli, uporabljamo neprekinjeno integracijo, neprekinjeno dostavo in specifične prakse neprekinjene namestitve, kot je proces upravljanja in rezervacije računalniških virov z uporabo datotek, ki jih računalnik zna prebrati \cite{Wittig2016} - infrastruktura kot koda\cite{Humble2014}.

Neprekinjena namestitev lahko pomaga podjetju, da pogosteje objavi nove funkcionalnosti in posodobitve \cite{Jiang2016} in izboljša učinkovitost in hitrost razvojnega procesa aplikacije \cite{Travassos2016}.

% Programerjem omogoča testiranje aplikacije v živo? Quality assurance?

\section{Struktura projekta}
\label{sec:struktura-projekta}
Struktura projekta opisuje kako je projekt organiziran in razmerja med različnimi deli projekta. Dobro strukturiran projekt pripomore k boljšemu razumevanju, vzdrževanju in razvijanju programske kode projekta. Obstaja veliko načinov strukturiranja projektov, seveda pa je struktura projekta odvisna od specifičnih potreb in ciljev projekta. Pri strukturiranju projekta so ključni deli:
\begin{itemize}
    \item Direktorijska struktura: Opisuje kako so datoteke in direktoriji razporejeni na datotečnem sistemu. Dobra direktorijska struktura združuje odvisne datoteke in vire ter olajša iskanje datotek.
    \item Moduli in odvisnosti: V večini projektov, je programska koda logično razdeljena na več modulov ali komponent, kjer vsak izmed modulov zadolžen za en del projekta. Ti moduli so lahko tudi odvisni med sabo, zato jih je potrebno skrbno organizirati in poskrbeti da ne pride do cikličnih odvisnosti.
    \item Skripti za gradnjo in namestitev projekta: Skripti opisujejo kako projekt zgraditi in namestiti na testna in produkcijsko okolje. Ti skripti so po navadi del neprekinjene namestitve in morajo zato biti dobro organizirani in enostavni za razumevanje.
    \item Dokumentacija: Dobra dokumentacija je pomemben del vsakega projekta. Ta lahko vključuje uporabniška navodila, dokumentacijo aplikacijskega programskega vmesnika (API), in druge dokumente, ki pomagajo razvijalcem pri razvoju in uporabnikom pri razumevanju delovanja projekta.
\end{itemize}

Na projektno strukturo močno vpliva tudi sistem za verzioniranje kode, ki ga uporabljamo \cite{Wiki_Architectural_pattern}, saj lahko kodo shranjujemo v enem skupnem repozitoriju ali pa jo razdelimo v več repozitorijev. Izbira repozitorijske strukture je ključna za strukturo projekta, saj ima vsaka repozitorijska struktura različne prednosti in slabosti \cite{Kokrehel2022}. Najbolj pogosti repozitorijski strukturi sta: monorepo in polyrepo.

\subsection{Monorepo}
\label{subsec:monorepo}
Monorepo ali monolitni repozitorij je poimenovanje organizacije in verzioniranja izvorne kode z enim repozitorijem. Ta lahko vsebuje več projektov, paketov ali modulov in razvijalcem omogoča širok dostop do izvorne kode, skupnih orodji in skupni množici odvisnosti na enem mestu \cite{Jaspan2018}.

Prednosti monolitnega repozitorija so:
\begin{itemize}
    \item Boljša preglednost izvorne kode: Razvijalci lažje najdejo relevantno dokumentacijo, primere implementacij in uporabe, kar pozitivno vpliva na hitrost in kvaliteto kode \cite{Jaspan2018, Shakikhanli2022}. 
    \item Enostavne odvisnosti: Vsi paketi in moduli v repozitoriju imajo lahko enako verzijo in ni potrebno skrbeti katere verzije so med seboj kompatibilne.
    \item Lažje spreminjanje odvisnih delov kode: Pri popravljanju in posodabljanju kode lahko popravimo tudi vse dele kode, ki so odvisni od spremenjene kode in vse skupaj oddamo v repozitorij kot eno spremembo.
\end{itemize}

Slabosti monolitnega repozitorija so:
\begin{itemize}
    \item Velikost repozitorija: Monolitni repozitorij lahko skozi razvoj zasede veliko prostora na podatkovnem sistemu. To lahko oteži prenos izvorne kode iz repozitorija in ostale operacije sistema za verzioniranje \cite{Harry2017}.
    \item Kompleksen cevovod za neprekinjeno dostavo: Kompleksnost konfiguracije cevovoda za neprekinjeno dostavo se poveča, saj je potrebno vse korake izvesti na vseh modulih in projektih. Da ohranimo učinkovitost, pa nočemo vedno izvajati vseh korakov za vse module, saj to podaljša izvajanje cevovoda.
    \item Veliki zahtevki za združitev vej: Ker repozitorij vsebuje vse odvisne dele kode, je ob posodobitvah lahko posodobljenih veliko vrstic izvorne kode. To lahko povzroči slabo preglednost sprememb v pregledu sprememb zahtevka za združitev \cite{Harry2017}.
    \item Orodja za upravljanje: Za učinkovito upravljanje monolitnega repozitorija so velikokrat potrebna dodatna programska orodja kot so orodja za gradnjo aplikacije in upravljalci paketov. To lahko poveča kompleksnost razvijanja aplikacije.
\end{itemize}

\subsection{Polirepo}
\label{subsec:polirepo}
Polirepo je poimenovanje organizacije in verzioniranja izvorne kode z več repozitoriji. Ti vsebujejo vse pakete in komponente izvorne kode, ki skupaj tvorijo celotno aplikacijo \cite{Shakikhanli2022}.

Prednosti uporabe več repozitorijev:
\begin{itemize}
    \item Poenostavljeno upravljanje: S posameznimi moduli ali paketi v ločenih repozitorijih je lažje slediti spremembam in ugotoviti, katere spremembe spadajo k posameznim projektom.
    \item Ločitev odgovornosti: Shranjevanje posameznih projektov v ločenih repozitorijih lahko pomaga izolirati kodo in zmanjša tveganje za nastanek sporov med različnimi deli projekta.
    \item Fleksibilnost: S posameznimi projekti v ločenih repozitorijih je lažje, da se različne ekipe ali razvijalci lahko posvečajo različnim delom projekta brez motenj od drugih ekip.
    \item Velikost repozitorijev: Ker je celoten projekt razdeljen na več repozitorijev, so ti repozitoriji manjši in zato lažji za prenos in delo na lokalnih računalnikih, še posebej, če razvijalec dela samo na enem delu projekta.
    \item Potencialno hitrejše gradnje: S posameznimi moduli ali paketi v ločenih repozitorijih jih je morda mogoče graditi neodvisno, kar lahko skrajša skupni čas gradnje.
\end{itemize}

Slabosti uporabe več repozitorijev:
\begin{itemize}
    \item Verzioniranje in določevanje odvisnosti: Potrebno je določiti kako se bodo moduli ali paketi v posameznih repozitorijih verzionirali in kako bodo določene odvisnosti med njimi.
    \item Oteženo spreminjanje odvisnih delov kode: Po spremembi nekega dela kode, se velikokrat zgodi, da je potrebno popraviti še kodo v odvisnih modulih ali paketih. To pomeni, da je treba v vsakem izmed odvisnih repozitorijev dodati spremembo in po možnosti popraviti verzijo.
\end{itemize}

Oba pristopa imata prednosti in slabosti in tisto, kar en razvijalec šteje za prednost, lahko drugemu predstavlja slabost. Na primer, nekatere osebe lahko vidijo enostavnost upravljanja enega samega repozitorija kot prednost uporabe monolitnega repozitorija, medtem ko druge lahko zaradi potencialne povečane zapletenosti vidijo to kot slabost. Podobno lahko nekatere osebe vidijo sposobnost enostavnega deljenja kode in virov med projekti kot prednost uporabe več repozitorijev, medtem ko druge lahko vidijo potrebo po upravljanju večih repozitorijev kot slabost. Zato je izbira med uporabo monolitnega repozitorija ali več repozitorijev največkrat stvar osebnega okusa in je odvisna od specifičnih potreb ter narave projekta kot tudi delovnih navad podjetja.


%----------------------------------------------------------------
% Poglavje 3 - Tehnologije
%----------------------------------------------------------------

\chapter{Uporabljene tehnologije in aplikacije}
\label{ch:uporabljene-tehnologije-in-aplikacije}
V tem poglavju bomo predstavili uporabljene tehnologije in aplikacije, ki so bile uporabljene za postavitev cevovoda neprekinjene integracije in dostave (CI/CD). Opisali bomo repozitorije za nadzor različic in orodja za gradnjo, ki so bila uporabljena, pa tudi aplikacijo Gitlab in konfiguracijske strežnike. Prav tako bomo podrobneje obravnavali kako smo zagotovili varnost aplikacije in opisali pomožna orodja in njihov namen.

% Mogoče repozitoriji tu ni najboljša beseda, mogoče skladišče?
\section{Repozitoriji za nadzor različic}
\label{sec:repozitoriji-za-nadzor-različic}
Za razvoj aplikacij uporabljamo več različnih repozitorijev, ki služijo različnim namenom. Izvorna koda se nahaja v repozitoriju s sistemom za nadzor različici, ki razvijalcem omogoča preprost pregled sprememb kode in združevanje sprememb iz različnih vej. Interne knjižnice, od katerih so projekti odvisni, so kot artefakti naložene na centralni upravljalec repozitorijev. Aplikacije na koncu pogosto zapakiramo v sliko Docker, ki so shranjene v registru Docker slik. V nadaljevanju predstavimo, katere implementacije posameznih repozitorijev smo uporabili.

\subsection{Git}
\label{subsec:git}
Git je sistem za verzioniranje, ki se pogosto uporablja pri razvoju programske opreme. Omogoča, da več razvijalcev naenkrat dela na enaki izvorni kodi in razvijalcem pomaga slediti spremembam, ki so bile narejene.

Uporaba sistema za verzioniranje Git deluje tako, da ima vsak razvijalec lokalno kopijo celotnega repozitorija vključno z vso zgodovino vseh sprememb, ki so bile narejene na izvorni kodi. Ko razvijalec razvija aplikacijo, spreminja zgolj lokalno kodo. Če želi spremembe oddati na oddaljen repozitorij, mora svoja spremembe s potrditivijo najprej dodati v lokalno verzionirano skladišče, nato pa jih lahko naloži še na oddaljen repozitorij.

Drugi razvijalci lahko nato prenesejo spremembe iz oddaljenega repozitorija v svoje lastne lokalne kopije kode in združijo spremembe s svojo lastno kodo. Če so na oddaljenem repozitoriju nove spremembe kode na enakih delih kot spremembe v lokalnem okolju razvijalca, mora razvijalec, ki želi združiti kodo s svojo lastno lokalno kopijo, izbrati, katere spremembe bo obdržal. Git vsebuje orodja, ki ta postopek združevanja poenostavijo.

Za neprekinjeno integracijo in dostavo aplikacij je Git pomemben predvsem zaradi sistema za sledenje spremembam in omogočanja da ekipa razvijalcev skupaj sodeluje pri razvoju. Pri neprekinjeni integraciji je zelo pomembno da lahko hitro in enostavno zaznamo in testiramo spremembe, ki so bile narejene, kot tudi da lahko združimo spremembe. Hkrati omogoča, da v primeru padanja testov ali drugih težav enostavno in hitro vrnemo aplikacijo na zadnje delujoče stanje.

\subsection{Nexus}
\label{subsec:nexus}
Apache Nexus\footnote{https://www.sonatype.com/products/nexus-repository} je eden od najbolj priljubljenih odprtokodnih upravljalcev repozitorijev, ki se uporablja za gostovanje in upravljanje artefaktov, kot so datoteke tipa JAR in ostale binarne komponente, ki jih potrebujejo projekti za svojo gradnjo in delovanje. Pogosto se uporablja kot namestniški strežnik za zunanje repozitorije, kot je na primer centralni repozitorij Maven, in za gostovanje interno razvitih artefaktov. To lahko pomaga izboljšati hitrost gradnje aplikacije, ker se zmanjša število zunanjih odvisnosti, ki jih je potrebno prenesti iz spleta, hkrati pa omogoča dodatno varnost, tako da omogoča nadzor nad tem, kateri artefakti so na voljo za gradnjo \cite{Varanasi2019}.

Poleg gostovanja artefaktov Nexus omogoča tudi upravljanje in omejevanje uporabe artefaktov z pravili, ki jih lahko nastavimo. Na primer, da morajo biti vsi artefakti digitalno podpisani ali pa da morajo biti odobreni s strani administratorja, preden jih lahko uporabimo ob gradnji aplikacije.

Nexus ponuja tudi uporabniški vmesnik, s katerim je enostavno poiskati in prenesti artefakte kot tudi naložiti nove artefakte v repozitorij ročno. Prav tako izpostavlja aplikacijski programski vmesnik z arhitekturnim slogom REST, ki se lahko uporablja za avtomatizacijo opravil upravljanja repozitorijev.

Za proces neprekinjene integracije in dostave aplikacij je Nexus pomemben zaradi več razlogov:
\begin{itemize}
    \item Pomaga poenotiti proces razvijanja aplikacije tako, da nudi enotno in konsistentno mesto za shranjevanje zgrajenih artefaktov.
    \item Z nudenjem hitrega in zanesljivega načina za dostop do zgrajenih artefaktov, izboljša učinkovitost in hitrost procesa CI/CD.
    \item Z nadzorom dostopa do artefaktov in dodatnimi pravili izboljša varnosti procesa CI/CD.
    \item Z hranjenjem različnih verzij artefaktov, ki so bili zgrajeni iz nameščeni, izboljša sledljivost CI/CD procesa.
\end{itemize}

\subsection{Register slik Docker}
\label{subsec:register-slik-docker}
Register slik Docker je servis, ki omogoča hranjene in distribucijo slik Docker. V register lahko slike Docker naložimo ali pa jih iz registra prenesemo. Register je lahko javen ali privaten.

Obstaja veliko javnih registrov, kot na primer Docker Hub, ki je privzeti register in ga vzdržuje Docker, Quay.io, IBM Cloud container registry\footnote{\url{https://www.ibm.com/cloud/container-registry}} in drugi \cite{Anwar2018}.

Register slik Docker igra pomembno vlogo v procesu neprekinjene integracije in dostave, saj omogoča upravljanje slik Docker, ki jih uporabljamo za aplikacijo skozi celoten cevovod CI/CD. Slike docker, ki so shranjene v registru, lahko uporabimo za namestitev aplikacije na različna okolja.

V kontekstu neprekinjene integracije nam register slik Docker omogoča hranjenje slik Docker, ki jih CI proces zgradi. Te slike lahko potem uporabimo za testiranje in validiranje pred oddajo v produkcijo. V kontekstu neprekinjene dostave, pa nam register omogoča upravljanje z različnimi verzijami aplikacijskih slik Docker in v primeru težav, hitro vračanje aplikacije na prejšno verzijo.

Hkrati, če uporabljamo privatni register Docker slik, lahko omejimo dostop do slik Docker in s tem okrepimo varnost.

\section{Orodja za gradnjo}
\label{sec: orodja-za-gradnjo}

\subsection{Maven}
\label{subsec:maven}

Maven je orodje za avtomatizacijo gradnje projektov spisanih v jeziku Java. Razvijalcem pomaga avtomatizirati proces gradnje, testiranja in namestitve aplikacije. Uporablja deklarativen pristop, s katerim razvijalci naštejejo vse odvisnosti, vtičnike in ostale informacije, potrebne za gradnjo projekta, v eno datoteko v formatu xml. Ta datoteka se imenuje \textit{pom.xml} \cite{Varanasi2019}.

Orodje Maven je pomemebno za neprekinjeno integracijo in dostavo aplikacij, ker omogoča konsistenten in ponovljiv način gradnje, testiranja in nameščanja aplikacije. Z orodjem Maven, lahko razvijalci opišejo vse potrebne korake za gradnjo projekta v eni konfiguracijski datoteki, ki jo v procesu CI/CD lahko nato uporabimo, za avtomatizacijo gradnje in namestitve projekta. Na ta način, je izdaja aplikacije bolj efektivna in zanesljiva. 

\subsection{Gradle}
\label{subsec:gradle}

Gradle je odprtokodno orodje za gradnjo projektov kot Maven, vendar je bolj fleksibilno. Tako kot Maven, se tudi Gradle večinoma uporablja za projekte spisane v programskem jeziku Java, vendar se lahko uporablja tudi za gradnjo projektov v drugih programskih jezikih kot na primer C++ ali Python. Za definicijo skript za gradnjo projekta uporablja domensko-specifičen jezik, ki je osnovan na jeziku Groovy in omogoča bolj zgoščene in ekspresivno napisane skripte, v primerjavi s skripti v formatu XML, ki ga uporablja Maven \cite{Ikkink2015}.

Podobno kot Maven je Gradle pomemben za neprekinjeno integracijo in dostavo aplikacijo, ker omogoča avtomatizacijo gradnje in namestitve projekta. Gradle podpira tudi gradnjo več projektov hkrati in inkrementalno gradnjo ter je zato primeren tudi za velike in kompleksne projekte. Znan je tudi po svojem sistemu predpomnenja, ki z beleženjem vhodov in izhodov gradnje, ter ponovno uporabo le teh, pohitri gradnjo projekta. To je še posebej uporabno za proces CI/CD, kjer želimo projekt zgraditi čim hitreje.

\subsection{Node Package Manager ali NPM}
\label{subsec:npm}

Node Package manager je orodje za upravljanje paketov, ki so napisani v programskem jeziku JavaScript in se uporabljajo v izvajalnem okolju Node.js. Orodje je vključeno v namestitveni paket izvajalnega okolja Node.js, je avtomatsko nameščeno ob namestitvi Node.js in zato služi kot privzeti upravitelj paketov za Node.js. Uporablja se v ukazni vrstici in razvijalcem omogoča enostavno namestitev, upravljanje in deljenje paketov ali modulov. V datoteki \textit{package.json} lahko razvijalci določijo odvisnosti, ki jih projekt zahteva. Te odvisnosti lahko razvijalci nato enostavno namestijo z uporabo orodja NPM, ki avtomatsko poišče ustrezne pakete in jih prenese iz registra NPM ali iz drugih virov kot je npr. centralni repozitorij Nexus.

Orodje NPM prav tako omogoča upravljanje različnih različič paketov, posodabljanje paketov, odstranjevanje paketov in objavljanje lastnih paketov v zasebne ali javne registre. Poskrbi tudi za razreševanje odvisnosti in zagotavlja, da so vsi zahtevani paketi in njihove odvisnosti pravilno nameščeni in združljivi med seboj.

\subsection{Plug 'N' Play Package Manager ali PNPM}
\label{subsec:pnpm}

Plug 'N' Play Package Manager je prav tako orodje za upravljanje paketov, ki so napisani v programskem jeziku JavaScript in se uporabljajo v izvajalnem okolju Node.js. PNPM je alternativa orodju NPM, ki si prizadeva izboljšati efektivnost in učinkovitost namestitve in upravljanja paketov.

Za razliko od orodja NPM, ki uporablja centralizirani predpomnilnik paketov in namešča odvisnosti projekta v mapo poimenovano \textit{node\_modules}, orodje PNPM uporablja virtualno shrambo. Namesto podvajanja odvisnosti za več projektov, jih orodje PNPM shrani na centralno mesto na datotečnem sistemu, kar omogoča, da si različni projekti odvisnosti delijo.

Na ta način izboljšuje hitrost namestitve in zmanjšuje prostor, ki ga posamezni projekti zasedajo. Prav tako omogoča hitrejše in učinkovitejše posodobitve paketov, saj je ob posodobitvi potrebno posodobiti samo eno kopijo paketa v centralni virtualni shrambi.

Orodje PNPM je združljivo z obstoječimi projekti Node.js in ga lahko uporabimo kot zamenjavo za orodje NPM. Ponuja podobne ukaze in je zato tudi enostavno za uporabo.

\subsection{Pip Installs Packages ali PIP}
\label{subsec:pip}

Pip Installs Packages je privzeto orodje za upravljanje paketov, ki so napisani v programskem jeziku Python. PIP omogoča enostavno namestitev, nadgradnjo in upravljanje s paketi, ki niso del osnovne knjižnice za programski jezik Python. Orodje omogoča razvijalcem enostaven dostop in namestitev paketov iz Python Package Index-a (PyPI), ki gostuje odprto-kodne pakete za programski jezik Python.

Orodje PIP je enostavno za uporabo in s preprostimi ukazi omogoča uporabnikom namestitev in brisanje paketov ter kreiranje virutalnega okolja za izolacijo projektnih odvisnosti. Zaradi splošne razširjenosti uporabe orodja PIP, služi kot ključno orodje za deljenje kode in učinkovito upravljanje paketov v projektih, ki uporabljajo programski jezik Python.

\subsection{Setuptools}
\label{subsec:setuptools}

Setuptools je knjižnica, ki poenostavi razvoj in distribucijo paketov v programskem jeziku Python. Vsebuje zbirko uporabnih funkcij in razširitev, ki nam pomagajo pri pakiranju, distribuciji in namestitvi paketov za programski jezik Python.

Glavne funkcionalnosti so:
\begin{itemize}
    \item Podpora za kreiranje paketov: knjižnica poenostavi proces kreiranje in gradnje paketov za programski jezik Python. Za definicijo meta podatkov o paketu, kot so ime, verzija, avtor, odvisnosti in vhodne točke uporablja datoteko \textit{setup.py}. Na ta način razvijalcu omogoči, da definira strukturo projekta in določi vire in dodatne datoteke, ki so del projekta.
    \item Upravljanje odvisnosti: knjižnica s ključno besedo \textit{requires} v skripti \textit{setup.py} omogoča avtorjem paketa nastavitev odvisnosti, ki jih paket potrebuje. Knjižnica prav tako omogoča avtomatsko razrešitev in namestitev teh odvisnosti, kar poenostavi namestitev in uporabo paketa.
    \item Vstopne točke: knjižnica omogoča uporabo vhodnih točk, ki na standarden način definirajo kako lahko ostali paketi in aplikacije razširijo funkcionalnosti paketa. Hkrati omogoča dinamično odkrivanje in namestitev vtičnikov brez navajanja eksplicitnih uvozov (importov?).
    \item Integracija s PyPI: knjižnica je dobro integrirana s PyPI in vsebuje ukaze za nalaganje paketov na PyPI.
    \item Razširitev osnovnih ukazov: razširja osnovne ukaze z ukazi, ki pomagajo pri gradnji različnih distribucij, generiranju dokumentacije in zagonu testov.
\end{itemize}

\subsection{Docker}
\label{subsec:docker}
% kontejner - vsebnik?
Docker je odprtokodna platforma, ki omogoča razvoj, namestitev in zagon aplikacij z uporabo kontejnerizacije. Kontejnerizacija je način pakiranja aplikacij in njihovih odvisnosti v izolirane in preproste kontejnerje, ki jih lahko zanesljivo zaženemo v različnih programskih okoljih. Docker kontejnerji vsebujejo vse potrebno za zagon aplikacije: kodo, izvajalno okolje, knjižnice in sistemska orodja. Takšen standardiziran način pakiranja in distribucije olajša proces kreiranja, nameščanja in upravljanja z aplikacijami.

Glavne prednosti orodja Docker so:
\begin{itemize}
    \item Prenosljivost: kontejnerji so neodvisni od operacijskega sistema, jih lahko zaženemo na kateremkoli sistemu, ki podpira Docker in zagotavlja konsistentno obnašanje v različnih okoljih.
    \item Razširljivost: orodje Docker omogoča hitro razširljivost aplikacij z podvajanjem kontejnerjev, ki izvajajo isto aplikacijo in porazdelitvijo obremenitve med njimi. 
    \item Izolacija: vsak kontejner deluje v svojem izoliranem okolju, kar zagotavlja izolacijo procesov in preprečuje konflikte med aplikacijami.
    \item Učinkovita raba virov: kontejnerji si delijo računalniške vire sistema, na katerem delujejo.
    \item Upravljanje različic: orodje Docker z označevanjem kontejnerskih slik omogoča enostavno verzioniranje in vračanje na starejše verzije.
\end{itemize}

\subsection{Kaniko}
\label{subsec:kaniko}


\section{Gitlab}
\label{sec:gitlab}

\subsection{Neprekinjena integracija in dostava v Gitlab-u}
\label{subsec:gitlab-neprekinjena-integracija-in-dostava}

\subsection{Vzorci gitlab}
\label{subsec:vzorci-gitlab}

\section{Kubernetes}
\label{sec:kubernetes}

\section{Konfiguracijski strežniki}
\label{sec:konfiguracijski-strežniki}

\subsection{Consul}
\label{subsec:consul}

\subsection{Konfiguracijski strežnik Spring Boot}
\label{subsec:spring-boot-configuration-server}

\section{Zagotavljanje varnosti}
\label{sec:zagotavljanje-varnosti}

\subsection{Kubernetes v izoliranem produkcijskem okolju}
\label{subsec:kubernetes-v-izoliranem-produkcijskem-okolju}

\section{Pomožne tehnologije}
\label{subsec:pomozne-tehnologije}

\subsection{Jsonnet}
\label{subsec:jsonnet}

\subsection{Copier}
\label{subsec:copier}

\subsection{Urejevalnik kode IntelliJ}
\label{subsec:intellij}


%----------------------------------------------------------------
% Poglavje 4 - Implementacija
%----------------------------------------------------------------


\chapter{Implementacija}
\label{ch:implementacija}

\section{Potek integracije in dostave}
\label{sec:potek-integracije-in-dostave}

\subsection{Proces v podjetju}
\label{subsec:proces-v-podjetju}

\subsection{Proces pri stranki}
\label{subsec:proces-pri-stranki}

\subsection{Proces neprekinjene dostave stranki}
\label{subsec:proces-neprekinjene-dostave-stranki}

\section{Razvoj komponente za neprekinjeno dostavo in integracijsko testiranje - Medius CD}
\label{sec:razvoj-komponente-za-neprekinjeno-dostavo-in integracijsko-testiranje-medius-cd}

\section{Postavitev projekta}
\label{subsec:postavitev-projekta}

\subsection{Java in Maven}
\label{subsec:java-in-maven}

\subsection{Java in Gradle}
\label{subsec:java-in-gradle}

\subsection{JavaScript in NPM}
\label{subsec:javascript-in-npm}



%----------------------------------------------------------------
% Poglavje 5 - Rezultati
%----------------------------------------------------------------


\chapter{Rezultati}
\label{ch:rezultati}

\section{Predstavitev projekta}
\label{sec:predstavitev-projekta}

\section{Primer uporabe na projektu}
\label{sec:primer-uporabe-na-projektu}

\subsection{Java projekt}
\label{subsec:java-projekt}

\subsection{JavaScript projekt}
\label{subsec:javascript-projekt}

\subsection{Python projekt}
\label{subsec:python-projekt}

\subsection{Monorepo projekt}
\label{subsec:monorepo-projekt}


%----------------------------------------------------------------
% Poglavje 6 - Zaključek
%----------------------------------------------------------------


\chapter{Zaključek}
\label{ch:zaključek}


% ---------------------------------------------------------------
% Appendix
% ---------------------------------------------------------------
\appendix


%----------------------------------------------------------------
% SLO: bibliografija
% ENG: bibliography
%----------------------------------------------------------------
\bibliographystyle{elsarticle-num}

%----------------------------------------------------------------
% SLO: odkomentiraj za uporabo zunanje datoteke .bib (ne pozabi je potem prevesti!)
% ENG: uncomment to use .bib file (don't forget to compile it!)
%----------------------------------------------------------------
\bibliography{bibliography}


\end{document}
